<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DreamApp v4_4_3 – Modular Desktop</title>
<style>
  :root{
    --bg:#0f1220; --panel:#161a2b; --ink:#e9efff; --muted:#93a0c2;
    --accent:#7cc6ff; --accent-2:#444dd8; --border:#26324a;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
    --radius:14px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:var(--bg); color:var(--ink);
    font:14px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Inter, sans-serif;
    overflow:hidden;
  }

  .app{ display:grid; grid-template-columns:280px 1fr; height:100%; }

  .sidebar{
    background:linear-gradient(180deg, #0f1326 0%, #0c0f1f 100%);
    border-right:1px solid var(--border);
    position:relative; overflow:hidden;
    transition:width .25s ease;
  }
  .sidebar__inner{ height:100%; overflow:auto; padding:16px; }
  .sidebar h1{ margin:0 0 10px; font-size:16px; display:flex; gap:8px; }
  .badge{font-size:12px; background:#1f2440; padding:2px 8px; border-radius:999px;}
  .toggle{ position:absolute; top:10px; right:10px; }

  .menu{ display:flex; flex-direction:column; gap:10px; margin:14px 0 18px; }
  .menu button{
    display:flex; align-items:center; gap:10px;
    width:100%; padding:12px;
    color:var(--ink); background:#12162c; border:1px solid var(--border);
    border-radius:10px; cursor:grab;
  }
  .menu button.active{ border-color:var(--accent); }

  .desktop{ position:relative; height:100%; overflow:auto; padding:20px; }

  .win{
    background:var(--panel); border:1px solid var(--border); border-radius:var(--radius);
    box-shadow:var(--shadow); width:520px; min-height:160px; position:absolute;
    display:flex; flex-direction:column;
  }
  .win__head{ padding:12px 14px; border-bottom:1px solid var(--border); display:flex; justify-content:space-between; align-items:center; cursor:move; }
  .win__title{ font-weight:600; color:#cfe3ff; font-size:13.5px; }
  .win__body{ padding:12px; overflow:auto; flex:1; }
  .win__actions{ display:flex; gap:8px; padding:0 12px 12px; }
  .btn{ background:#1a2042; border:1px solid var(--border); color:var(--ink); padding:8px 10px; border-radius:10px; cursor:pointer; }
  textarea, select{ width:100%; background:#0f1635; color:var(--ink); border:1px solid var(--border); border-radius:10px; padding:10px; min-height:100px; }
  textarea.mono{ font-family:monospace; }
</style>
</head>
<body>
<div class="app">
  <aside class="sidebar" id="sidebar">
    <div class="sidebar__inner">
      <h1>DreamApp <span class="badge">v4_4_3</span></h1>
      <div class="menu" id="menu">
        <button data-target="win-framework">Framework & Dream</button>
        <button data-target="win-prompt">Prompt Preview / Copy</button>
        <button data-target="win-depth">Depth Prompt</button>
        <button data-target="win-output">Model Output</button>
        <button data-target="win-depthout">Depth Output</button>
        <button data-target="win-notes">Notes</button>
        <button data-target="win-wake">Waking Context Prompt</button>
        <button data-target="win-wakeout">Waking Context Output</button>
      </div>
    </div>
  </aside>

  <main class="desktop" id="desktop">
    <!-- Depth Prompt (fixed to v3 style) -->
    <section class="win" id="win-depth" style="left:740px; top:24px; width:560px;">
      <header class="win__head">
        <div class="win__title">Depth Prompt</div>
        <button class="win_close" data-close="win-depth">×</button>
      </header>
      <div class="win__body">
        <textarea id="depthPrompt" class="mono" readonly></textarea>
      </div>
      <div class="win__actions">
        <button class="btn" id="copyDepth">Copy Depth prompt</button>
        <button class="btn" id="clearDepth">Clear</button>
      </div>
    </section>

    <!-- Depth Output -->
    <section class="win" id="win-depthout" style="left:740px; top:420px; width:560px; height:280px;">
      <header class="win__head"><div class="win__title">Depth Output</div></header>
      <div class="win__body">
        <textarea id="depthOutput"></textarea>
      </div>
    </section>
  </main>
</div>

<script>
/* Build depth prompt */
function buildDepthPrompt(){
  return `Rephrase the following interpretation into one of three styles. Keep factual content identical.

Styles:
1) Plain Language — minimal jargon; short sentences; everyday words.
2) Standard — balanced clarity and depth; light terminology.
3) Advanced (Technical) — precise, theory-accurate terminology and structure.

Return only the rewritten text. Original begins after the line "-----".
-----`;
}

/* Refresh depth prompt on load */
document.addEventListener('DOMContentLoaded', ()=>{
  const depthPrompt = document.getElementById('depthPrompt');
  if(depthPrompt) depthPrompt.value = buildDepthPrompt();

  document.getElementById('copyDepth').onclick = ()=>{
    depthPrompt.select();
    document.execCommand('copy');
  };
  document.getElementById('clearDepth').onclick = ()=>{
    depthPrompt.value = buildDepthPrompt();
  };
});
</script>
</body>
</html>
